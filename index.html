<!doctype html>
<html lang="es">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Aprende Maya para Ni帽os</title>
  <script src="/_sdk/element_sdk.js"></script>
  <style>
    body {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: 'Comic Sans MS', 'Chalkboard SE', 'Arial Rounded MT Bold', sans-serif;
      width: 100%;
      height: 100%;
    }

    html {
      height: 100%;
      width: 100%;
    }

    * {
      box-sizing: border-box;
    }

    .app-container {
      width: 100%;
      min-height: 100%;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      padding: 40px 20px;
    }

    .content-wrapper {
      max-width: 1200px;
      margin: 0 auto;
    }

    header {
      text-align: center;
      margin-bottom: 40px;
    }

    h1 {
      font-size: 48px;
      color: #ffffff;
      margin: 0 0 15px 0;
      text-shadow: 3px 3px 6px rgba(0,0,0,0.3);
    }

    .welcome {
      font-size: 20px;
      color: #f0e6ff;
      margin: 0;
    }

    .lesson-section {
      background: #ffffff;
      border-radius: 20px;
      padding: 30px;
      margin-bottom: 30px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.2);
    }

    .section-title {
      font-size: 32px;
      color: #667eea;
      margin: 0 0 25px 0;
      text-align: center;
    }

    .vocab-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }

    .vocab-card {
      background: linear-gradient(135deg, #ffeaa7 0%, #fdcb6e 100%);
      border-radius: 15px;
      padding: 20px;
      text-align: center;
      cursor: pointer;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      border: 3px solid #f39c12;
    }

    .vocab-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 16px rgba(0,0,0,0.2);
    }

    .emoji {
      font-size: 48px;
      margin-bottom: 10px;
    }

    .maya-word {
      font-size: 24px;
      font-weight: bold;
      color: #2d3436;
      margin: 5px 0;
    }

    .spanish-word {
      font-size: 18px;
      color: #636e72;
      margin: 5px 0;
    }

    .pronunciation {
      font-size: 14px;
      color: #b2bec3;
      font-style: italic;
      margin: 5px 0;
    }

    .quiz-section {
      background: #ffffff;
      border-radius: 20px;
      padding: 30px;
      margin-bottom: 30px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.2);
    }

    .quiz-question {
      font-size: 24px;
      color: #2d3436;
      margin-bottom: 20px;
      text-align: center;
    }

    .quiz-options {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 15px;
      margin-bottom: 20px;
    }

    .quiz-button {
      background: linear-gradient(135deg, #74b9ff 0%, #0984e3 100%);
      color: white;
      border: none;
      border-radius: 12px;
      padding: 20px;
      font-size: 20px;
      cursor: pointer;
      transition: transform 0.2s ease, opacity 0.2s ease;
      font-weight: bold;
    }

    .quiz-button:hover {
      transform: scale(1.05);
    }

    .quiz-button:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    .quiz-button.correct {
      background: linear-gradient(135deg, #55efc4 0%, #00b894 100%);
    }

    .quiz-button.incorrect {
      background: linear-gradient(135deg, #ff7675 0%, #d63031 100%);
    }

    .feedback {
      text-align: center;
      font-size: 24px;
      font-weight: bold;
      margin-top: 15px;
      min-height: 30px;
    }

    .feedback.correct {
      color: #00b894;
    }

    .feedback.incorrect {
      color: #d63031;
    }

    .next-button {
      background: linear-gradient(135deg, #a29bfe 0%, #6c5ce7 100%);
      color: white;
      border: none;
      border-radius: 12px;
      padding: 15px 40px;
      font-size: 20px;
      cursor: pointer;
      display: block;
      margin: 20px auto 0;
      font-weight: bold;
      transition: transform 0.2s ease;
    }

    .next-button:hover {
      transform: scale(1.05);
    }

    .score-display {
      text-align: center;
      font-size: 20px;
      color: #2d3436;
      margin-top: 20px;
      font-weight: bold;
    }

    footer {
      text-align: center;
      color: #f0e6ff;
      margin-top: 40px;
      font-size: 16px;
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
  <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
 </head>
 <body>
  <div class="app-container">
   <div class="content-wrapper">
    <header>
     <h1 id="main-title"> Aprende Lengua Maya </h1>
     <p class="welcome" id="welcome-message">隆Descubre las palabras m谩gicas del idioma maya!</p>
    </header>
    <main>
     <section class="lesson-section">
      <h2 class="section-title" id="lesson-title"> Vocabulario B谩sico</h2>
      <div class="vocab-grid">
       <div class="vocab-card" onclick="speakWord('Ba\'ax ka wa\'alik')">
        <div class="emoji">
         
        </div>
        <div class="maya-word">
         Ba'ax ka wa'alik
        </div>
        <div class="spanish-word">
         Hola
        </div>
        <div class="pronunciation">
         (bash ka wa-alik)
        </div>
       </div>
       <div class="vocab-card" onclick="speakWord('Tu\'ux ka bin')">
        <div class="emoji">
         
        </div>
        <div class="maya-word">
         Tu'ux ka bin
        </div>
        <div class="spanish-word">
         Adi贸s
        </div>
        <div class="pronunciation">
         (tu-ush ka bin)
        </div>
       </div>
       <div class="vocab-card" onclick="speakWord('Bix a beel')">
        <div class="emoji">
         
        </div>
        <div class="maya-word">
         Bix a beel
        </div>
        <div class="spanish-word">
         驴C贸mo est谩s?
        </div>
        <div class="pronunciation">
         (bish a be-el)
        </div>
       </div>
       <div class="vocab-card" onclick="speakWord('Jach ma\'alob')">
        <div class="emoji">
         
        </div>
        <div class="maya-word">
         Jach ma'alob
        </div>
        <div class="spanish-word">
         Muy bien
        </div>
        <div class="pronunciation">
         (hach ma-alob)
        </div>
       </div>
       <div class="vocab-card" onclick="speakWord('Dyos bo\'otik')">
        <div class="emoji">
         
        </div>
        <div class="maya-word">
         Dyos bo'otik
        </div>
        <div class="spanish-word">
         Gracias
        </div>
        <div class="pronunciation">
         (dios bo-otik)
        </div>
       </div>
       <div class="vocab-card" onclick="speakWord('Mixba\'al')">
        <div class="emoji">
         
        </div>
        <div class="maya-word">
         Mixba'al
        </div>
        <div class="spanish-word">
         De nada
        </div>
        <div class="pronunciation">
         (mish-ba-al)
        </div>
       </div>
       <div class="vocab-card" onclick="speakWord('Ki\'imak 贸olal')">
        <div class="emoji">
         
        </div>
        <div class="maya-word">
         Ki'imak 贸olal
        </div>
        <div class="spanish-word">
         Estoy feliz
        </div>
        <div class="pronunciation">
         (ki-imak o-olal)
        </div>
       </div>
       <div class="vocab-card" onclick="speakWord('In k\'aaba\' e...')">
        <div class="emoji">
         
        </div>
        <div class="maya-word">
         In k'aaba' e...
        </div>
        <div class="spanish-word">
         Mi nombre es...
        </div>
        <div class="pronunciation">
         (in ka-aba e)
        </div>
       </div>
      </div>
     </section>
     <section class="quiz-section">
      <h2 class="section-title" id="activity-title"> 隆Practica lo que Aprendiste!</h2>
      <div class="quiz-question" id="question"></div>
      <div class="quiz-options" id="options"></div>
      <div class="feedback" id="feedback"></div><button class="next-button" id="next-button" style="display: none;" onclick="nextQuestion()">Siguiente Pregunta</button>
      <div class="score-display" id="score"></div>
     </section>
    </main>
    <footer>
     <p> Sigue practicando y aprender谩s maya cada d铆a </p>
    </footer>
   </div>
  </div>
  <script>
    const defaultConfig = {
      main_title: " Aprende Lengua Maya ",
      welcome_message: "隆Descubre las palabras m谩gicas del idioma maya!",
      lesson_title: " Vocabulario B谩sico",
      activity_title: " 隆Practica lo que Aprendiste!",
      background_color: "#667eea",
      surface_color: "#ffffff",
      text_color: "#2d3436",
      primary_action_color: "#74b9ff",
      secondary_action_color: "#a29bfe",
      font_family: "Comic Sans MS",
      font_size: 16
    };

    const quizData = [
      {
        question: "驴C贸mo se dice 'Hola' en maya?",
        options: ["Ba'ax ka wa'alik", "Tu'ux ka bin", "Dyos bo'otik", "Bix a beel"],
        correct: 0
      },
      {
        question: "驴Qu茅 significa 'Dyos bo'otik'?",
        options: ["Adi贸s", "Gracias", "De nada", "Hola"],
        correct: 1
      },
      {
        question: "驴C贸mo se dice '驴C贸mo est谩s?' en maya?",
        options: ["Jach ma'alob", "Bix a beel", "Ki'imak 贸olal", "Mixba'al"],
        correct: 1
      },
      {
        question: "驴Qu茅 significa 'Jach ma'alob'?",
        options: ["Gracias", "Adi贸s", "Muy bien", "Hola"],
        correct: 2
      },
      {
        question: "驴C贸mo se dice 'Estoy feliz' en maya?",
        options: ["Ki'imak 贸olal", "Tu'ux ka bin", "Mixba'al", "In k'aaba' e"],
        correct: 0
      }
    ];

    let currentQuestion = 0;
    let score = 0;
    let answered = false;

    function speakWord(word) {
      const feedbackEl = document.getElementById('feedback');
      feedbackEl.textContent = ` ${word}`;
      feedbackEl.className = 'feedback';
      setTimeout(() => {
        feedbackEl.textContent = '';
      }, 2000);
    }

    function loadQuestion() {
      if (currentQuestion >= quizData.length) {
        showFinalScore();
        return;
      }

      const question = quizData[currentQuestion];
      document.getElementById('question').textContent = question.question;
      
      const optionsEl = document.getElementById('options');
      optionsEl.innerHTML = '';
      
      question.options.forEach((option, index) => {
        const button = document.createElement('button');
        button.className = 'quiz-button';
        button.textContent = option;
        button.onclick = () => checkAnswer(index);
        optionsEl.appendChild(button);
      });

      document.getElementById('feedback').textContent = '';
      document.getElementById('next-button').style.display = 'none';
      answered = false;
      updateScore();
    }

    function checkAnswer(selectedIndex) {
      if (answered) return;
      
      answered = true;
      const question = quizData[currentQuestion];
      const buttons = document.querySelectorAll('.quiz-button');
      const feedbackEl = document.getElementById('feedback');
      
      buttons.forEach(btn => btn.disabled = true);
      
      if (selectedIndex === question.correct) {
        buttons[selectedIndex].classList.add('correct');
        feedbackEl.textContent = '隆Excelente! ';
        feedbackEl.className = 'feedback correct';
        score++;
      } else {
        buttons[selectedIndex].classList.add('incorrect');
        buttons[question.correct].classList.add('correct');
        feedbackEl.textContent = '隆Casi! Sigue intentando ';
        feedbackEl.className = 'feedback incorrect';
      }
      
      document.getElementById('next-button').style.display = 'block';
      updateScore();
    }

    function nextQuestion() {
      currentQuestion++;
      loadQuestion();
    }

    function updateScore() {
      document.getElementById('score').textContent = `Puntuaci贸n: ${score} de ${quizData.length}`;
    }

    function showFinalScore() {
      document.getElementById('question').textContent = '隆Quiz Completado! ';
      document.getElementById('options').innerHTML = '';
      document.getElementById('feedback').textContent = `Tu puntuaci贸n final es ${score} de ${quizData.length}`;
      document.getElementById('feedback').className = 'feedback correct';
      document.getElementById('next-button').style.display = 'none';
      
      const restartButton = document.createElement('button');
      restartButton.className = 'next-button';
      restartButton.textContent = 'Reiniciar Quiz';
      restartButton.onclick = () => {
        currentQuestion = 0;
        score = 0;
        loadQuestion();
      };
      document.getElementById('options').appendChild(restartButton);
    }

    async function onConfigChange(config) {
      const baseFontStack = 'Arial, sans-serif';
      const customFont = config.font_family || defaultConfig.font_family;
      const baseSize = config.font_size || defaultConfig.font_size;

      document.getElementById('main-title').textContent = config.main_title || defaultConfig.main_title;
      document.getElementById('main-title').style.fontFamily = `${customFont}, ${baseFontStack}`;
      document.getElementById('main-title').style.fontSize = `${baseSize * 3}px`;

      document.getElementById('welcome-message').textContent = config.welcome_message || defaultConfig.welcome_message;
      document.getElementById('welcome-message').style.fontFamily = `${customFont}, ${baseFontStack}`;
      document.getElementById('welcome-message').style.fontSize = `${baseSize * 1.25}px`;

      document.getElementById('lesson-title').textContent = config.lesson_title || defaultConfig.lesson_title;
      document.getElementById('lesson-title').style.fontFamily = `${customFont}, ${baseFontStack}`;
      document.getElementById('lesson-title').style.fontSize = `${baseSize * 2}px`;
      document.getElementById('lesson-title').style.color = config.primary_action_color || defaultConfig.primary_action_color;

      document.getElementById('activity-title').textContent = config.activity_title || defaultConfig.activity_title;
      document.getElementById('activity-title').style.fontFamily = `${customFont}, ${baseFontStack}`;
      document.getElementById('activity-title').style.fontSize = `${baseSize * 2}px`;
      document.getElementById('activity-title').style.color = config.primary_action_color || defaultConfig.primary_action_color;

      const appContainer = document.querySelector('.app-container');
      appContainer.style.background = `linear-gradient(135deg, ${config.background_color || defaultConfig.background_color} 0%, #764ba2 100%)`;

      const lessonSections = document.querySelectorAll('.lesson-section, .quiz-section');
      lessonSections.forEach(section => {
        section.style.backgroundColor = config.surface_color || defaultConfig.surface_color;
      });

      const allText = document.querySelectorAll('.section-title, .quiz-question, .maya-word, .spanish-word, .score-display');
      allText.forEach(el => {
        el.style.color = config.text_color || defaultConfig.text_color;
        el.style.fontFamily = `${customFont}, ${baseFontStack}`;
      });

      const quizButtons = document.querySelectorAll('.quiz-button');
      quizButtons.forEach(btn => {
        if (!btn.classList.contains('correct') && !btn.classList.contains('incorrect')) {
          btn.style.background = `linear-gradient(135deg, ${config.primary_action_color || defaultConfig.primary_action_color} 0%, #0984e3 100%)`;
        }
      });

      const nextButton = document.querySelector('.next-button');
      if (nextButton) {
        nextButton.style.background = `linear-gradient(135deg, ${config.secondary_action_color || defaultConfig.secondary_action_color} 0%, #6c5ce7 100%)`;
        nextButton.style.fontFamily = `${customFont}, ${baseFontStack}`;
      }

      document.querySelector('.quiz-question').style.fontSize = `${baseSize * 1.5}px`;
      document.querySelectorAll('.quiz-button').forEach(btn => {
        btn.style.fontSize = `${baseSize * 1.25}px`;
      });
    }

    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig,
        onConfigChange,
        mapToCapabilities: (config) => ({
          recolorables: [
            {
              get: () => config.background_color || defaultConfig.background_color,
              set: (value) => {
                config.background_color = value;
                window.elementSdk.setConfig({ background_color: value });
              }
            },
            {
              get: () => config.surface_color || defaultConfig.surface_color,
              set: (value) => {
                config.surface_color = value;
                window.elementSdk.setConfig({ surface_color: value });
              }
            },
            {
              get: () => config.text_color || defaultConfig.text_color,
              set: (value) => {
                config.text_color = value;
                window.elementSdk.setConfig({ text_color: value });
              }
            },
            {
              get: () => config.primary_action_color || defaultConfig.primary_action_color,
              set: (value) => {
                config.primary_action_color = value;
                window.elementSdk.setConfig({ primary_action_color: value });
              }
            },
            {
              get: () => config.secondary_action_color || defaultConfig.secondary_action_color,
              set: (value) => {
                config.secondary_action_color = value;
                window.elementSdk.setConfig({ secondary_action_color: value });
              }
            }
          ],
          borderables: [],
          fontEditable: {
            get: () => config.font_family || defaultConfig.font_family,
            set: (value) => {
              config.font_family = value;
              window.elementSdk.setConfig({ font_family: value });
            }
          },
          fontSizeable: {
            get: () => config.font_size || defaultConfig.font_size,
            set: (value) => {
              config.font_size = value;
              window.elementSdk.setConfig({ font_size: value });
            }
          }
        }),
        mapToEditPanelValues: (config) => new Map([
          ["main_title", config.main_title || defaultConfig.main_title],
          ["welcome_message", config.welcome_message || defaultConfig.welcome_message],
          ["lesson_title", config.lesson_title || defaultConfig.lesson_title],
          ["activity_title", config.activity_title || defaultConfig.activity_title]
        ])
      });
    }

    loadQuestion();
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9a70ae7dd2852e5d',t:'MTc2NDU3MjE1NC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
